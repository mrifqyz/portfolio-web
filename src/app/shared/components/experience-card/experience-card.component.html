<div class="bg-white dark:bg-gray-800 rounded-xl p-6 md:p-7 shadow-md hover:shadow-lg transition-all duration-300 border border-gray-200 dark:border-gray-700 cursor-pointer mb-4" (click)="onCardClick()">
  <div class="flex flex-col md:flex-row gap-5">
    <div class="flex-shrink-0">
      <img [src]="experience.logo" [alt]="experience.company" class="w-14 h-14 md:w-16 md:h-16 rounded-lg">
    </div>
    <div class="flex-1">
      <div class="flex flex-col lg:flex-row lg:justify-between lg:items-start mb-4">
        <div class="flex-1">
          <h3 class="text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-1.5 transition-colors duration-300">{{ experience.title }}</h3>
          <a [href]="experience.companyLink" target="_blank" rel="noopener noreferrer"
             class="text-[#306AB4] dark:text-blue-400 font-semibold text-sm hover:underline transition-colors duration-300"
             (click)="stopPropagation($event)">
            {{ experience.company }}
          </a>
        </div>
        <div class="text-sm text-gray-600 dark:text-gray-400 mt-2 lg:mt-0 lg:text-right flex items-center gap-2 lg:flex-row-reverse transition-colors duration-300">
          <!-- <fa-icon [icon]="faChevronDown" class="text-gray-400 dark:text-gray-500 transition-all duration-300" [class.rotate-180]="isExpanded"></fa-icon> -->
          <div>
            <p class="font-medium">{{ experience.startDate }} - {{ experience.endDate }}</p>
            <p class="text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300">{{ experience.type }}</p>
          </div>
        </div>
      </div>

      <div class="flex flex-wrap gap-2 mb-4">
        <app-badge *ngFor="let tech of experience.techStack" [label]="tech" [color]="getBadgeColor(tech)"></app-badge>
      </div>

      <ul class="space-y-2.5 text-sm text-gray-700 dark:text-gray-300 transition-colors duration-300" *ngIf="!isExpanded">
        <li *ngFor="let achievement of experience.expandedAchievements" class="flex items-start gap-2.5">
          <span class="text-green-500 mt-0.5">âœ“</span>
          <span [innerHTML]="achievement"></span>
        </li>
      </ul>
    </div>
  </div>
</div>
